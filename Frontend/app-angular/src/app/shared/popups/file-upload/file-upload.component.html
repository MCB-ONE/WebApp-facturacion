<div class="file-upload">
  <div class="file-upload__header">
    <h3>Subida de archivos</h3>
  </div>
  <div class="file-upload__content">
    <ng-container *ngIf="!files.length">
      <div class="dropzone" appDropZone (hovered)="toggleHover($event)" [class.dropzone__hovered]="isHovering"
        (dropped)="onDrop($event)">
        <div class="dropzone__label">Deja tus archivos aqui</div>
        <div class="dropzone__file">
          <label class="file">
            <input class="file__input" [multiple]="data.multiple" type="file" (change)="onDropFile($event)" />
            <span class="file__label">seleccionar</span>
          </label>
        </div>
      </div>
      <div class="error" *ngIf="isError">
        Seleccione un archivo
      </div>
    </ng-container>
    <ng-container  *ngIf="imageFile">
      <app-cropper [imageFile]="imageFile" (changed)="onCrop($event)"></app-cropper>
    </ng-container>
    <ng-container *ngIf="files">
        <app-upload *ngFor="let file of files" [file]="file" (completed)="onUploadComplete($event) "></app-upload>
    </ng-container>

    <div class="file-upload__footer" *ngIf="!imageFile">
      <button mat-stroked-button color="primary" (click)="onClose()" *ngIf="!filesURLs.length">Cerrar</button>
      <button mat-stroked-button color="primary" (click)="onComplete()" *ngIf="filesURLs.length">Completar</button>
    </div>
  </div>
